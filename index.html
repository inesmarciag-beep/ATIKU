<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Atiku - Simulador Aeroespacial</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    .progress-bar {
      height: 6px;
      background-color: rgb(250 204 21);
      border-radius: 9999px;
      width: 0%;
      transition: width 0.3s ease-in-out;
    }
  </style>
</head>
<body class="bg-black text-white min-h-screen p-6">
  <header class="mb-4 p-4 bg-gray-900 shadow-xl rounded-2xl border-t-4 border-purple-600">
    <h1 class="text-3xl font-extrabold text-amber-400 flex items-center gap-3">
      ğŸš€ Plataforma ATIKU â€” Prototipo
      <span class="text-sm text-gray-400 font-normal ml-2">MÃ³dulos Aeroespaciales</span>
    </h1>
    <p class="text-sm text-gray-400 mt-1">Completa misiones, gana Delta Coins y recibe retroalimentaciÃ³n de tu capitÃ¡n.</p>
  </header>

  <!-- Banner de retroalimentaciÃ³n -->
  <div id="feedbackBanner" class="hidden mb-4 p-4 rounded-xl border-l-4 border-amber-400 bg-amber-900/10 text-amber-300 flex items-center justify-between shadow-inner">
    <div class="flex items-center gap-3">
      <div class="text-xl">ğŸ“¡</div>
      <div>
        <div class="text-sm font-semibold">Enviada</div>
        <div class="text-sm opacity-90">Esperando retroalimentaciÃ³n de tu capitÃ¡n...</div>
      </div>
    </div>
    <button id="dismissFeedback" class="py-1 px-3 rounded-md bg-gray-800 text-gray-200 hover:bg-gray-700">Cerrar</button>
  </div>

  <!-- Estado actual -->
  <div id="phase" class="p-4 rounded-xl shadow-lg border-2 border-gray-700 flex items-center justify-between bg-gray-600 text-white mb-6">
    <div>
      <div class="text-xs uppercase opacity-80">Fase Actual del Proyecto</div>
      <div id="phaseName" class="text-xl font-bold">Fase de Ensamblaje</div>
    </div>
    <div class="text-3xl font-extrabold flex items-center">
      <span id="coinCount">1500</span> <span class="ml-2">ğŸ’«</span>
    </div>
  </div>

  <!-- Consola -->
  <div id="console" class="hidden p-3 mb-6 rounded-lg text-sm bg-amber-900/20 text-amber-200 border-l-4 border-amber-500 shadow-inner"></div>

  <!-- MÃ³dulos -->
  <section class="bg-gray-900 rounded-xl shadow-2xl min-h-[320px] p-6">
    <h2 class="text-2xl font-bold text-white mb-4">ğŸ“˜ Bloques de Aprendizaje</h2>
    <div id="modules" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
  </section>

  <script>
    // ---------------- CONFIGURACIÃ“N ----------------
    const MODULES = [
      { id: 1, title: "IntroducciÃ³n a Cohetes", description: "Partes principales y principio de acciÃ³n-reacciÃ³n.", reward: 500, video: "https://www.youtube.com/watch?v=2b1KxXDFz0I" },
      { id: 2, title: "Ã“rbitas y Gravedad", description: "Tipos de Ã³rbitas, gravedad y microgravedad.", reward: 750, video: "https://www.youtube.com/watch?v=wN2kK9Odr2Y" },
      { id: 3, title: "TelemetrÃ­a", description: "CÃ³mo se transmiten los datos satelitales.", reward: 1000, video: "https://www.youtube.com/watch?v=QU5U0dQGztA" }
    ];

    let coins = 1500;
    let completed = {};

    const modulesEl = document.getElementById("modules");
    const consoleEl = document.getElementById("console");
    const coinCount = document.getElementById("coinCount");
    const feedbackBanner = document.getElementById("feedbackBanner");
    const dismissFeedback = document.getElementById("dismissFeedback");

    dismissFeedback.addEventListener("click", () => feedbackBanner.classList.add("hidden"));

    // ---------------- FUNCIONES ----------------
    function showConsole(msg, time = 3000) {
      consoleEl.textContent = msg;
      consoleEl.classList.remove("hidden");
      clearTimeout(consoleEl.timeout);
      consoleEl.timeout = setTimeout(() => consoleEl.classList.add("hidden"), time);
    }

    function updateCoins(amount) {
      coins += amount;
      coinCount.textContent = coins;
    }

    function showFeedback() {
      feedbackBanner.classList.remove("hidden");
    }

    function completeMission(id, reward) {
      if (completed[id]) return;
      completed[id] = true;
      showConsole("ğŸ¯ MisiÃ³n completada. Enviada, esperando retroalimentaciÃ³n de tu capitÃ¡n...");
      updateCoins(reward);
      showFeedback();
      renderModules();
    }

    function renderModules() {
      modulesEl.innerHTML = "";
      MODULES.forEach(m => {
        const done = completed[m.id];
        const card = document.createElement("div");
        card.className = `p-5 rounded-xl border shadow-lg transition ${done ? "bg-green-800/40 border-green-500" : "bg-gray-800 border-gray-700"}`;

        card.innerHTML = `
          <h3 class="text-xl font-bold text-white mb-2">${m.title}</h3>
          <p class="text-sm text-gray-400 mb-4">${m.description}</p>
          <div class="text-sm mb-4 text-gray-300">â­ Recompensa: <span class="text-amber-400 font-bold">+${m.reward}</span> Delta Coins</div>
          ${
            done
              ? `<button class="w-full py-2 px-4 rounded-lg bg-green-600 text-white font-bold">âœ” MisiÃ³n Cumplida</button>`
              : `
              <div class="flex gap-3">
                <a href="${m.video}" target="_blank" class="flex-1 py-2 px-4 rounded-lg bg-purple-700 text-white font-bold text-center hover:bg-purple-600">ğŸ¥ Ver Tutorial</a>
                <button onclick="completeMission(${m.id}, ${m.reward})" class="flex-1 py-2 px-4 rounded-lg bg-amber-400 text-black font-bold hover:bg-amber-300">ğŸš€ Completar</button>
              </div>`
          }
        `;
        modulesEl.appendChild(card);
      });
    }

    renderModules();
  </script>
</body>
</html>
